<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Etch A Sketch</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <h1 class="title">Etch A Sketch</h1>
    <div class="buttons">
        <button class="button changeGridButton">Change size</button>
        <button class="button resetGridButton">Reset</button>
        <button class="button rainbowGridButton">Rainbow</button>
    </div>
    <div id="container">
    </div>
    <div class="footer">Made by&nbsp<a class="link" href="https://github.com/CoDinAIy">CoDinAIy</a></div>
</body>
</html>

<script>
const container = document.querySelector("#container")
const changeGridButton = document.querySelector(".changeGridButton")
const resetGridButton = document.querySelector(".resetGridButton")
const rainbowGridButton = document.querySelector(".rainbowGridButton")
let number = 16
changeGridButton.addEventListener("click", () => {
    number = +prompt("Enter a number between 1-100")
    if (number < 100 && typeof number === "number") {
        removeGrid()
        makeGrid(number)
        hoverBlack()
    } else {
        alert("Enter a number between 1-100!")
    }
})

resetGridButton.addEventListener("click", () => {
    removeGrid()
    makeGrid(number)
    hoverBlack()
})

rainbowGridButton.addEventListener("click", () => {
    hoverRainbow()
})







makeGrid(number)
hoverBlack()

function hoverRainbow() {
    const boxes = document.querySelectorAll(".cell")
    boxes.forEach((cell) => {
        cell.addEventListener("mouseover", () => {
            cell.classList.add("rainbow")
            cell.classList.remove("Black")
        })
})
}



function hoverBlack() {
    const boxes = document.querySelectorAll(".cell")
    boxes.forEach((cell) => {
        cell.addEventListener("mouseover", () => {
            cell.classList.add("Black")
        })
})
}
function removeGrid(){
    let removeCells = document.querySelectorAll(".row")
    removeCells.forEach(row => {
        container.removeChild(row)
    })
}


function makeGrid(number) {
    let i = 0
    while (i < number) {
    makeRow()
    i++
    }
}

function makeRow() {
    let cellWidth = 500/number + "px"
    let cellHeight = 500/number  + "px"
    const row = document.createElement("div")
    for (i = 0; i < number; i++) {
        const cells = document.createElement("div")
        const heightWidth = document.createAttribute("style")
        heightWidth.value = `height: ${cellHeight}; width: ${cellWidth};`
        cells.setAttributeNode(heightWidth)
        
        row.appendChild(cells).classList = "cell"
    }
    container.appendChild(row).classList = "row"
}
</script>